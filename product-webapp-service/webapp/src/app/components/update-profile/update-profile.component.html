<div class="home-container">
  <div class="card" *ngIf="isLoading">
    <app-loading [bars]="3" [skeletonLoading]="true"></app-loading>
  </div>

  <div class="card" *ngIf="!isLoading">
    <span *ngIf="!userUpdate" class="item-actions" [matMenuTriggerFor]="adminCardActionsMenu">
      <mat-icon>more_vert</mat-icon>
    </span>

    <mat-menu #adminCardActionsMenu="matMenu" xPosition="before">
      <a mat-menu-item tabindex="0" (click)="userUpdate = true">
        <mat-icon>edit</mat-icon> Edit
      </a>
    </mat-menu>

    <h2>My profile</h2>

    <form *ngIf="userUpdate" (submit)="updateUserDetails()" class="mat-form">
      <p><mat-form-field class="full-width">
        <mat-label for="userName">User Name:</mat-label>
        <input matInput type="text" id="userName" name="userName" [(ngModel)]="user.userName" required>
      </mat-form-field></p>

      <p><mat-form-field class="full-width">
        <mat-label for="userAge">Age:</mat-label>
        <input matInput type="number" id="userAge" name="userAge" [(ngModel)]="user.userAge" required>
      </mat-form-field></p>

      <p><mat-form-field class="full-width">
        <mat-label for="userHeight">Height (in CM):</mat-label>
        <input matInput type="number" id="userHeight" name="userHeight" [(ngModel)]="user.height" required>
      </mat-form-field></p>

      <p><mat-form-field class="full-width">
        <mat-label for="userWeight">Weight (in KG):</mat-label>
        <input matInput type="number" id="userWeight" name="userWeight" [(ngModel)]="user.weight" required>
      </mat-form-field></p>

      <p><mat-form-field class="full-width">
        <mat-label for="userName">User Contact:</mat-label>
        <input matInput type="text" id="userMobile" name="userMobile" [(ngModel)]="user.userMobile" required>
      </mat-form-field></p>

      <button mat-raised-button color="primary" type="submit">Save</button>
      <hr>
      <button mat-button type="button" (click)="cancelUpdate()">Cancel</button>
    </form>
    <div *ngIf="!userUpdate">     
      <p class="user-info">
        <mat-icon class="user-info-icon">person</mat-icon>
        <strong>{{ user.userName }}</strong>
      </p>
      <p class="user-info">
        <mat-icon class="user-info-icon">cake</mat-icon>
        <strong>{{ user.userAge }} years</strong>
      </p>
      <p class="user-info">
        <mat-icon class="user-info-icon">height</mat-icon>
        <strong>{{ user.height }} cm</strong>
      </p>
      <p class="user-info">
        <mat-icon class="user-info-icon">fitness_center</mat-icon>
        <strong>{{ user.weight }} kg</strong>
      </p>
      <p class="user-info">
        <mat-icon class="user-info-icon">phone</mat-icon>
        <strong>{{ user.userMobile }}</strong>
      </p>
      
      
    </div>
    
  </div>  
  <div *ngIf="userUpdate" class="card">

    <div class="card-info" *ngIf="user">  
      <h2>Your Previous Details</h2>    
      <p>User Name: <strong>{{ user.userName }}</strong></p>
      <p>Age: <strong>{{ user.userAge }}</strong></p>
      <p>Height: <strong>{{ user.height }}</strong></p>
      <p>Weight: <strong>{{ user.weight }}</strong></p>
      <p>Contact: <strong>{{ user.userMobile }}</strong></p>
      
      
    </div>
  </div>

</div>
